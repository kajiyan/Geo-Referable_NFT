@import "tailwindcss";
@import "maplibre-gl/dist/maplibre-gl.css";

:root {
  --background: #ffffff;
  --foreground: #171717;

  /* Component variables */
  --radius: 0.5rem;

  /* Z-index layer system
   * Lower values are behind, higher values are in front
   * Modal backdrop < Modal < Toast/RainbowKit notifications
   */
  --z-modal-backdrop: 40;
  --z-modal: 50;
  --z-toast: 60;

  /* Skeleton animation colors */
  --skeleton-stripe: rgba(120, 113, 108, 1);

  /* Card/Popover variables */
  --card: 0 0% 100%;
  --card-foreground: 222.2 84% 4.9%;
  --popover: 0 0% 100%;
  --popover-foreground: 222.2 84% 4.9%;
  --primary: 222.2 47.4% 11.2%;
  --primary-foreground: 210 40% 98%;
  --secondary: 210 40% 96.1%;
  --secondary-foreground: 222.2 47.4% 11.2%;
  --muted: 210 40% 96.1%;
  --muted-foreground: 215.4 16.3% 46.9%;
  --accent: 210 40% 96.1%;
  --accent-foreground: 222.2 47.4% 11.2%;
  --destructive: 0 84.2% 60.2%;
  --destructive-foreground: 210 40% 98%;
  --border: 214.3 31.8% 91.4%;
  --input: 214.3 31.8% 91.4%;
  --ring: 222.2 84% 4.9%;

  /* Weather token color palette */
  --token-color-weather-clear: #F3A0B6;
  --token-color-weather-partly-cloudy: #F7D6BA;
  --token-color-weather-cloudy: #D3FFE2;
  --token-color-weather-overcast: #FBFFC5;
  --token-color-weather-light-drizzle: #C9EDFD;
  --token-color-weather-light-rain: #B8B3FB;
  --token-color-weather-moderate-rain: #9993FB;
  --token-color-weather-rain: #E3FFB2;
  --token-color-weather-heavy-rain: #8AD2B6;
  --token-color-weather-rain-thunder: #E1FF86;
  --token-color-weather-heavy-rain-thunder: #DB78FB;
  --token-color-weather-snow: #96FFCD;
  --token-color-weather-mist-fog: #93B2B6;
  --token-color-weather-fallback: #B2B2B2;
}

@theme inline {
  --color-background: var(--background);
  --color-foreground: var(--foreground);
  --font-sans: var(--font-inter), "Helvetica Neue", Arial, "Hiragino Kaku Gothic ProN", "Hiragino Sans", "Noto Sans JP", sans-serif;
  --font-mono: var(--font-geist-mono);
}

@media (prefers-color-scheme: dark) {
  :root {
    --background: #0a0a0a;
    --foreground: #ededed;

    /* Dark mode skeleton */
    --skeleton-stripe: #4b5563;

    /* Dark mode card/popover */
    --card: 222.2 84% 4.9%;
    --card-foreground: 210 40% 98%;
    --popover: 222.2 84% 4.9%;
    --popover-foreground: 210 40% 98%;
    --primary: 210 40% 98%;
    --primary-foreground: 222.2 47.4% 11.2%;
    --secondary: 217.2 32.6% 17.5%;
    --secondary-foreground: 210 40% 98%;
    --muted: 217.2 32.6% 17.5%;
    --muted-foreground: 215 20.2% 65.1%;
    --accent: 217.2 32.6% 17.5%;
    --accent-foreground: 210 40% 98%;
    --destructive: 0 62.8% 30.6%;
    --destructive-foreground: 210 40% 98%;
    --border: 217.2 32.6% 17.5%;
    --input: 217.2 32.6% 17.5%;
    --ring: 212.7 26.8% 83.9%;
  }
}

body {
  background: var(--background);
  color: var(--foreground);
}

/* Font utilities */
.font-norosi {
  font-family: var(--font-norosi-icon), sans-serif;
}

.font-datetime {
  font-family: var(--font-datetime, monospace);
}

.font-system {
  font-family: -apple-system, BlinkMacSystemFont, "Inter", sans-serif;
}

/* Custom spacing utilities for Button design system (Tailwind v4) */
@utility p-1px {
  padding: 0.0625rem; /* 1px */
}
@utility py-5px {
  padding-top: 0.3125rem;   /* 5px */
  padding-bottom: 0.3125rem;
}
@utility py-9px {
  padding-top: 0.5625rem;   /* 9px */
  padding-bottom: 0.5625rem;
}
@utility writing-vertical {
  writing-mode: vertical-rl;
}
@utility min-h-52px {
  min-height: 3.25rem; /* 52px */
}
@utility w-18px {
  width: 1.125rem; /* 18px */
}
@utility h-18px {
  height: 1.125rem; /* 18px */
}

/**
 * Icon container - 18x18px with auto-sizing children
 * Used in Header components (NetworkSelector, AccountDropdown)
 */
.icon-18 {
  width: 1.125rem;
  height: 1.125rem;
  display: flex;
  align-items: center;
  justify-content: center;
  flex-shrink: 0;
}

.icon-18 > img,
.icon-18 > svg {
  width: 100%;
  height: 100%;
  object-fit: contain;
}

/**
 * Custom dashed border styles for Button component
 * Using repeating-linear-gradient for precise 1px dash, 1px gap pattern
 * NOTE: These styles are duplicated here from Button.css to ensure they're
 * always loaded globally, preventing CSS loading order issues in Next.js
 */

/* White dashed border (for default variant) */
.button-dashed-border-white {
  background-image:
    /* Top border - horizontal dashes */
    repeating-linear-gradient(90deg, white 0, white 1px, transparent 1px, transparent 2px),
    /* Right border - vertical dashes */
    repeating-linear-gradient(180deg, white 0, white 1px, transparent 1px, transparent 2px),
    /* Bottom border - horizontal dashes */
    repeating-linear-gradient(90deg, white 0, white 1px, transparent 1px, transparent 2px),
    /* Left border - vertical dashes */
    repeating-linear-gradient(180deg, white 0, white 1px, transparent 1px, transparent 2px);
  background-size: 100% 1px, 1px 100%, 100% 1px, 1px 100%;
  background-position: left top, right top, left bottom, left top;
  background-repeat: repeat-x, repeat-y, repeat-x, repeat-y;
}

/* Stone/600 dashed border (for outline variant) */
.button-dashed-border-stone {
  background-image:
    /* Top border - horizontal dashes */
    repeating-linear-gradient(90deg, rgb(87, 83, 78) 0, rgb(87, 83, 78) 1px, transparent 1px, transparent 2px),
    /* Right border - vertical dashes */
    repeating-linear-gradient(180deg, rgb(87, 83, 78) 0, rgb(87, 83, 78) 1px, transparent 1px, transparent 2px),
    /* Bottom border - horizontal dashes */
    repeating-linear-gradient(90deg, rgb(87, 83, 78) 0, rgb(87, 83, 78) 1px, transparent 1px, transparent 2px),
    /* Left border - vertical dashes */
    repeating-linear-gradient(180deg, rgb(87, 83, 78) 0, rgb(87, 83, 78) 1px, transparent 1px, transparent 2px);
  background-size: 100% 1px, 1px 100%, 100% 1px, 1px 100%;
  background-position: left top, right top, left bottom, left top;
  background-repeat: repeat-x, repeat-y, repeat-x, repeat-y;
}

/**
 * Z-index layer utilities for modal/toast stacking
 * Ensures wallet toasts (RainbowKit) appear above modals
 */
@utility z-modal-backdrop {
  z-index: var(--z-modal-backdrop);
}
@utility z-modal {
  z-index: var(--z-modal);
}
@utility z-toast {
  z-index: var(--z-toast);
}

/* RainbowKit toast/notification z-index override */
div[class*="iekbcc0"][class*="ju367v"] {
  z-index: var(--z-toast) !important;
}

/**
 * Stagger fade-in animation for NFTDetailPanel navigation buttons
 * Accessible: Uses motion-safe: prefix in Tailwind to respect prefers-reduced-motion
 */
@keyframes stagger-fade-in {
  from {
    opacity: 0;
    transform: translateY(8px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

/**
 * Dialog fade in/out animations
 * Used by Radix Dialog via data-[state] attributes
 */
@keyframes dialog-fade-in {
  from { opacity: 0; }
  to { opacity: 1; }
}
@keyframes dialog-fade-out {
  from { opacity: 1; }
  to { opacity: 0; }
}
@keyframes dialog-scale-in {
  from { opacity: 0; transform: scale(1.05); }
  to   { opacity: 1; transform: scale(1); }
}
@keyframes dialog-scale-out {
  from { opacity: 1; transform: scale(1); }
  to   { opacity: 0; transform: scale(1.03); }
}

.dialog-overlay-animation[data-state="open"] {
  animation: dialog-fade-in 250ms cubic-bezier(0.16, 1, 0.3, 1);
}
.dialog-overlay-animation[data-state="closed"] {
  animation: dialog-fade-out 200ms cubic-bezier(0.4, 0, 1, 1);
}

.dialog-content-animation[data-state="open"] {
  opacity: 0;
  animation: dialog-scale-in 300ms cubic-bezier(0.16, 1, 0.3, 1) 60ms forwards;
}
.dialog-content-animation[data-state="closed"] {
  animation: dialog-scale-out 200ms cubic-bezier(0.4, 0, 1, 1) forwards;
}
