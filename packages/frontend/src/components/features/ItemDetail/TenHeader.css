/**
 * TenHeader - 天（空）のドットグラデーション + 流れる雲
 * Based on Figma design: node-id=220883-14607
 *
 * 天 (Ten) = Sky/Heaven in Japanese
 * 雲 (Kumo) = Cloud in Japanese
 *
 * Represents the sky above the NOROSI signal fire with:
 * 1. Dot pattern (ten-header-dots.svg) - stationary gradient
 * 2. Cloud layers (dynamically generated) - animated drift right-to-left
 *    with parallax effect (multiple layers at different speeds)
 */

/* ============================================
   Cloud Band Animation Keyframes
   Seamless right-to-left drift (日本画風の雲)
   ============================================ */
@keyframes cloudDrift {
  from {
    transform: translateX(0) translateY(var(--cloud-y-offset, 0));
  }
  to {
    /* Move exactly one tile width (2560px) for seamless loop */
    transform: translateX(-2560px) translateY(var(--cloud-y-offset, 0));
  }
}

.ten-header {
  position: relative;
  width: 100%;
  height: 128px;
  pointer-events: none;
  overflow: hidden;
  background: white;
}

/* ============================================
   Cloud Layer Container
   Multiple layers stacked with different z-indices
   ============================================ */

.ten-header__clouds {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  height: 128px; /* Match container height */
  /* z-index set via inline style for each layer */
  overflow: hidden;
  pointer-events: none;
}

/* ============================================
   Animated Cloud Track
   Contains 2x pattern for seamless loop
   Uses CSS custom properties for per-layer configuration
   Fixed pixel dimensions to prevent scaling of cloud elements
   ============================================ */

.ten-header__clouds-track {
  display: flex;
  /* Fixed width: 2 tiles × 2560px = 5120px (covers most desktop monitors) */
  width: 5120px;
  height: 128px;
  animation: cloudDrift var(--cloud-duration, 35s) linear infinite;
  will-change: transform;
}

/* ============================================
   Cloud Tile (SVG container)
   Each tile contains procedurally generated cloud groups
   Fixed 1200×200px to match viewBox - no scaling
   ============================================ */

.ten-header__clouds-tile {
  flex-shrink: 0;
  /* Fixed dimensions matching viewBox (2560×128) */
  width: 2560px;
  height: 128px;
}

/* ============================================
   Paused State (for IntersectionObserver)
   Matches WaveSVG and TokenMessageBar patterns
   ============================================ */

.ten-header__clouds-track--paused {
  animation-play-state: paused;
  will-change: auto; /* Release GPU resources when paused */
}

/* ============================================
   Accessibility: Reduced Motion
   ============================================ */

@media (prefers-reduced-motion: reduce) {
  .ten-header__clouds-track {
    animation: none;
  }
}

/* ============================================
   SVG Dot Pattern Layer (above clouds)
   ============================================ */

.ten-header__dots {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  height: 100%; /* Match container height */
  z-index: 1; /* Below cloud layers */

  /* SVG pattern repeating horizontally */
  background-image: url('./ten-header-dots.svg');
  background-repeat: repeat-x;
  background-position: center -32px;
  background-size: 18px 128px; /* Scale SVG to fit 128px height */

  /*
   * The SVG has dots that get LARGER from top to bottom.
   * This matches the Figma design (small dots at top, large at bottom).
   * No transform needed - SVG is already in correct orientation.
   */
}
